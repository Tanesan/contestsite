var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function preload_images(images,complete_callback){if(onepress_js_settings.hero_disable_preload)complete_callback&&complete_callback();else{var id="_img_loading_"+(new Date).getTime();jQuery("body").append('<div id="'+id+'"></div>'),jQuery.each(images,(function(index,src){var img=jQuery("<img>");img.attr("alt",""),img.attr("class","image__preload"),img.css("display","none"),img.attr("src",src),jQuery("#"+id).append(img)})),jQuery("#"+id).imagesLoaded((function(){complete_callback&&complete_callback(),setTimeout((function(){jQuery("#"+id).remove()}),5e3)}))}}function _to_number(string){if("number"==typeof string)return string;var n=string.match(/\d+$/);return n?parseFloat(n[0]):0}function _to_bool(v){return"boolean"==typeof v?v:"number"==typeof v?0!==v:"string"==typeof v&&("true"===v||"1"===v)}!function(){var is_webkit=navigator.userAgent.toLowerCase().indexOf("webkit")>-1,is_opera=navigator.userAgent.toLowerCase().indexOf("opera")>-1,is_ie=navigator.userAgent.toLowerCase().indexOf("msie")>-1;(is_webkit||is_opera||is_ie)&&document.getElementById&&window.addEventListener&&window.addEventListener("hashchange",(function(){var id=location.hash.substring(1),element;/^[A-z0-9_-]+$/.test(id)&&(element=document.getElementById(id))&&(/^(?:a|select|input|button|textarea)$/i.test(element.tagName)||(element.tabIndex=-1),element.focus())}),!1)}(),function(){if(isMobile.any()){let vh=.01*window.innerHeight,vw=.01*window.innerWidth;document.documentElement.style.setProperty("--vh",vh+"px"),document.documentElement.style.setProperty("--vw",vw+"px"),window.addEventListener("resize",(function(){let vh=.01*window.innerHeight,vw=.01*window.innerWidth;document.documentElement.style.setProperty("--vh",vh+"px"),document.documentElement.style.setProperty("--vw",vw+"px")}))}}(),jQuery(document).ready((function($){var $window=$(window),$document=$(document),getAdminBarHeight=function(){var h=0;return $("#wpadminbar").length&&"fixed"==$("#wpadminbar").css("position")&&(h=$("#wpadminbar").height()),h},stickyHeaders=function(){var $stickies,lastScrollTop=0,setData=function(stickies,addWrap){var top=0;void 0===addWrap&&(addWrap=!0),$stickies=stickies.each((function(){var $thisSticky=$(this),p;$thisSticky.parent().hasClass("followWrap")||addWrap&&$thisSticky.wrap('<div class="followWrap" />'),$thisSticky.parent().removeAttr("style"),$thisSticky.parent().height($thisSticky.height())}))},load=function(stickies){"object"==typeof stickies&&stickies instanceof jQuery&&stickies.length>0&&(setData(stickies),$window.scroll((function(){_whenScrolling()})),$window.resize((function(){setData(stickies,!1),stickies.each((function(){$(this).removeClass("fixed").removeAttr("style")})),_whenScrolling()})),$document.on("hero_ready",(function(){$(".followWrap").removeAttr("style"),setTimeout((function(){$(".followWrap").removeAttr("style"),setData(stickies,!1),_whenScrolling()}),500)})))},_whenScrolling=function(){var top=0;top=getAdminBarHeight();var scrollTop=$window.scrollTop();$stickies.each((function(i){var $thisSticky=$(this),$stickyPosition=$thisSticky.parent().offset().top;0===scrollTop&&$thisSticky.addClass("no-scroll"),$stickyPosition-top<=scrollTop?(scrollTop>0&&$thisSticky.removeClass("no-scroll"),$thisSticky.addClass("header-fixed"),$thisSticky.css("top",top)):$thisSticky.removeClass("header-fixed").removeAttr("style").addClass("no-scroll")}))};return{load:load}}();stickyHeaders.load($("#masthead.is-sticky")),$document.on("header_view_changed",(function(){stickyHeaders.load($("#masthead.is-sticky"))}));var mobile_max_width=1140,main_navigation=jQuery(".main-navigation .onepress-menu"),stite_header=$(".site-header"),header=document.getElementById("masthead");if(header)var noSticky=header.classList.contains("no-sticky");var setNavTop=function(){var offset=header.getBoundingClientRect(),top=offset.x+offset.height-1;main_navigation.css({top:top})},getNavHeight=function(fitWindow){if(void 0===fitWindow&&(fitWindow=!0),fitWindow){var offset=header.getBoundingClientRect(),h;return $(window).height()-(offset.x+offset.height)+1}main_navigation.css("height","auto");var navOffset=main_navigation[0].getBoundingClientRect();return main_navigation.css("height",0),navOffset.height},h;function setNavActive(currentNode){currentNode&&((currentNode=currentNode.replace("#",""))&&jQuery("#site-navigation li").removeClass("onepress-current-item"),currentNode&&jQuery("#site-navigation li").find('a[href$="#'+currentNode+'"]').parent().addClass("onepress-current-item"))}function inViewPort($element,offset_top){offset_top||(offset_top=0);var view_port_top=jQuery(window).scrollTop();$("#wpadminbar").length>0&&(view_port_top-=$("#wpadminbar").outerHeight()-1,offset_top+=$("#wpadminbar").outerHeight()-1);var view_port_h=$("body").outerHeight(),el_top=$element.offset().top,eh_h,el_bot=el_top+$element.height(),view_port_bot=view_port_top+view_port_h,all_height,max_top,in_view_port=!1;return view_port_top>=$("body")[0].scrollHeight-view_port_h?(el_top<view_port_top&&el_top>view_port_bot||el_top>view_port_top&&el_bot<view_port_top)&&(in_view_port=!0):el_top<=view_port_top+offset_top&&el_bot>view_port_top&&(in_view_port=!0),in_view_port}$document.on("click","#nav-toggle",(function(event){if(event.preventDefault(),jQuery("#nav-toggle").toggleClass("nav-is-visible"),jQuery(".header-widget").toggleClass("header-widget-mobile"),main_navigation.stop(),main_navigation.hasClass("onepress-menu-mobile"))main_navigation.css({height:main_navigation.height(),"min-height":0,overflow:"hidden"}),setTimeout((function(){main_navigation.animate({height:0},300,(function(){main_navigation.removeAttr("style"),main_navigation.removeClass("onepress-menu-mobile"),$("body").removeClass("onepress-menu-mobile-opening")}))}),40);else{main_navigation.addClass("onepress-menu-mobile"),$("body").addClass("onepress-menu-mobile-opening"),setNavTop();var h=getNavHeight(!noSticky);isNaN(h)&&(h=$(window).height()),main_navigation.animate({height:h},300,(function(){noSticky&&main_navigation.css({"min-height":h,height:"auto"})}))}})),!noSticky&&isMobile.any()&&$(document).on("scroll",(function(){if(main_navigation.hasClass("onepress-menu-mobile")){var newViewportHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),offset=header.getBoundingClientRect(),top=offset.x+offset.height-1,h=newViewportHeight-top+1;main_navigation.css({height:h,top:top})}})),$(window).resize((function(){main_navigation.hasClass("onepress-menu-mobile")&&$(window).width()<=1140?noSticky||main_navigation.css({height:getNavHeight(),overflow:"auto"}):(main_navigation.removeAttr("style"),main_navigation.removeClass("onepress-menu-mobile"),jQuery("#nav-toggle").removeClass("nav-is-visible"))})),jQuery(".onepress-menu li.menu-item-has-children, .onepress-menu li.page_item_has_children").each((function(){jQuery(this).prepend('<div class="nav-toggle-subarrow"><i class="fa fa-angle-down"></i></div>')})),$document.on("click",".nav-toggle-subarrow, .nav-toggle-subarrow .nav-toggle-subarrow",(function(){jQuery(this).parent().toggleClass("nav-toggle-dropdown")})),window.current_nav_item=!1,h="1"!=onepress_js_settings.onepress_disable_sticky_header?jQuery("#wpadminbar").height()+jQuery(".site-header").height():jQuery("#wpadminbar").height(),jQuery('.home #site-navigation li a[href*="#"]').on("click",(function(event){event.preventDefault(),jQuery(".onepress-menu").hasClass("onepress-menu-mobile")&&jQuery("#nav-toggle").trigger("click"),smoothScroll(jQuery(this.hash))}));var _scroll_top=$window.scrollTop(),wow;function smoothScroll(element){if(element.length<=0)return!1;jQuery("html, body").animate({scrollTop:jQuery(element).offset().top-h+"px"},{duration:800,easing:"swing",complete:function(){window.current_nav_item=!1}})}(jQuery(window).scroll((function(){var currentNode=null;if(window.current_nav_item)currentNode=window.current_nav_item.replace("#","");else{var current_top=$window.scrollTop();if(h="1"!=onepress_js_settings.onepress_disable_sticky_header?jQuery("#wpadminbar").height()+jQuery(".site-header").height():jQuery("#wpadminbar").height(),_scroll_top<current_top)jQuery("section").each((function(index){var section=jQuery(this),currentId=section.attr("id")||"",in_vp;inViewPort(section,h+10)&&(currentNode=currentId)}));else for(var ns,i=jQuery("section").length-1;i>=0;i--){var section=jQuery("section").eq(i),currentId=section.attr("id")||"",in_vp;inViewPort(section,h+10)&&(currentNode=currentId)}_scroll_top=current_top}setNavActive(currentNode)})),jQuery(window).on("load",(function(){var urlCurrent=location.hash;jQuery(urlCurrent).length>0&&smoothScroll(urlCurrent)})),jQuery('.hero-slideshow-wrapper a[href*="#"]:not([href="#"]), .parallax-content a[href*="#"]:not([href="#"]), .back-to-top').on("click",(function(event){event.preventDefault(),smoothScroll(jQuery(this.hash))})),onepress_js_settings.is_home&&jQuery(".site-branding .site-brand-inner").on("click",(function(e){e.preventDefault(),jQuery("html, body").animate({scrollTop:"0px"},{duration:300,easing:"swing"})})),isMobile.any()?jQuery("body").addClass("body-mobile").removeClass("body-desktop"):jQuery("body").addClass("body-desktop").removeClass("body-mobile"),"1"!=onepress_js_settings.onepress_disable_animation)&&new WOW({offset:50,mobile:!1,live:!1}).init();var text_rotator=function(){jQuery(".js-rotating").Morphext({animation:onepress_js_settings.hero_animation,separator:"|",speed:parseInt(onepress_js_settings.hero_speed),complete:function(){}})};if(text_rotator(),$document.on("header_view_changed",(function(){text_rotator()})),jQuery(".site-content").fitVids({ignore:".wp-block-embed iframe, .wp-block-embed object"}),$.fn.lightGallery&&$(".videolightbox-popup").lightGallery({}),$(".counter").counterUp({delay:10,time:1e3}),"1"==onepress_js_settings.onepress_vertical_align_menu){var header_height=jQuery(".site-header").height();jQuery(".site-header .onepress-menu").css("line-height",header_height+"px")}function hero_full_screen(no_trigger){if($(".hero-slideshow-fullscreen").length>0){var wh=$window.height(),top=getAdminBarHeight(),$header=jQuery("#masthead"),is_transparent,headerH;headerH=$header.hasClass("is-t")?0:$header.height(),headerH+=top,jQuery(".hero-slideshow-fullscreen").css("height",wh-headerH+1+"px"),void 0!==no_trigger&&no_trigger||$document.trigger("hero_ready")}}$window.on("resize",(function(){hero_full_screen()})),hero_full_screen(),$document.on("header_view_changed",(function(){hero_full_screen()})),$document.on("hero_ready",(function(){hero_full_screen(!0)}));var heroSliders=function(){$("#parallax-hero").length<=0&&jQuery(".hero-slideshow-wrapper").each((function(){var hero=$(this);if(!hero.hasClass("video-hero")){var images=hero.data("images")||!1;"string"==typeof images&&(images=jQuery.parseJSON(images)),images?preload_images(images,(function(){hero.backstretch(images,{fade:_to_number(onepress_js_settings.hero_fade),duration:_to_number(onepress_js_settings.hero_duration)}),hero.addClass("loaded"),hero.removeClass("loading"),setTimeout((function(){hero.find(".slider-spinner").remove()}),600)})):(hero.addClass("loaded"),hero.removeClass("loading"),hero.find(".slider-spinner").remove())}}))};heroSliders(),$document.on("header_view_changed",(function(){heroSliders()})),$(".section-parallax, .parallax-hero").bind("inview",(function(event,visible){}));var lastScrollTop=0;function parrallaxHeight(){$(".section-parallax ").each((function(){var $el=$(this);$(".parallax-bg",$el).height("");var w=$el.width(),h=$el.height();h<=0&&(h=500),h*=1.5,$(".parallax-bg",$el).height(h)}))}function parallaxPosition(direction){var scrollTop=$(window).scrollTop(),wh=$(window).height(),ww=$(window).width();$(".section-parallax, .parallax-hero").each((function(){var $el=$(this),pl=$(".parallax-bg",$el),w=$el.width(),h=$el.height(),img=$("img",pl);if(img.length){var imageNaturalWidth=img.prop("naturalWidth"),imageNaturalHeight=img.prop("naturalHeight"),containerHeight=h>0?h:500,imgHeight,parallaxDist=img.height()-containerHeight,top=$el.offset().top,windowHeight=window.innerHeight,windowBottom,percentScrolled,parallaxTop=parallaxDist*((scrollTop+windowHeight-top)/(containerHeight+windowHeight)),l,max_width=imageNaturalWidth;imageNaturalWidth>w||(max_width=ww),max_width>2*ww&&imageNaturalHeight>2*containerHeight&&(max_width-=ww),(l=(max_width-ww)/2)<0&&(l=0),img.css({top:"-"+parallaxTop+"px",left:"-"+l+"px",maxWidth:max_width+"px"})}else{var r=.3,is_inview;if(r=wh>w?.3:.6,$(".parallax-bg",$el).addClass("no-img"),$el.data("inview")){var offsetTop=$el.offset().top,diff,bgTop;bgTop=(diff=scrollTop-offsetTop)*r,$(".parallax-bg",$el).css("background-position","50% "+bgTop+"px")}}}))}function onepress_gallery_init($context){$.fn.justifiedGallery&&$(".gallery-justified",$context).imagesLoaded((function(){$(".gallery-justified",$context).each((function(){var margin=$(this).attr("data-spacing")||20,row_height=$(this).attr("data-row-height")||120;margin=_to_number(margin),row_height=_to_number(row_height),$(this).justifiedGallery({rowHeight:row_height,margins:margin,selector:"a, div:not(.spinner), .inner"})}))}));var is_rtl=onepress_js_settings.is_rtl;function isotope_init(){$.fn.isotope&&$(".gallery-masonry",$context).each((function(){var m=$(this),gutter=m.attr("data-gutter")||10,columns=m.attr("data-col")||5;gutter=_to_number(gutter),columns=_to_number(columns);var w=$(window).width();w<=940&&(columns=columns>2?columns-1:columns),w<=720&&(columns=columns>3?3:columns),w<=576&&(columns=columns>2?2:columns),m.find(".g-item").css({width:100/columns+"%",float:"left",padding:0}),m.isotope({itemSelector:".g-item",percentPosition:!0,masonry:{columnWidth:".inner"}})}))}if($.fn.owlCarousel&&($(".gallery-slider",$context).owlCarousel({items:1,itemsCustom:!1,itemsDesktop:1,itemsDesktopSmall:1,itemsTablet:1,itemsTabletSmall:!1,itemsMobile:1,singleItem:!0,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:4e3,stopOnHover:!0,nav:!0,navText:["<i class='lg-icon'></i>","<i class='lg-icon'></i>"],autoHeight:!0,rtl:0!=is_rtl,dots:!1}),$(".gallery-carousel",$context).each((function(){var n=$(this).attr("data-col")||5;(n=_to_number(n))<=0&&(n=5),$(this).owlCarousel({items:n,responsive:{0:{items:2},768:{items:n>2?2:n},979:{items:n>3?3:n},1199:{items:n}},rtl:0!=is_rtl,navSpeed:800,autoplaySpeed:4e3,autoplayHoverPause:!0,nav:!0,navText:["<i class='lg-icon'></i>","<i class='lg-icon'></i>"],dots:!1})}))),$(".gallery-masonry",$context).imagesLoaded((function(){isotope_init()})),$(window).resize((function(){isotope_init()})),$.fn.lightGallery){var wrap_tag,tag_selector="a";$(".enable-lightbox",$context).find(".g-item").first().is("div")&&(tag_selector="div"),$(".enable-lightbox",$context).lightGallery({mode:"lg-fade",selector:tag_selector})}}$(window).scroll((function(e){var top=$(window).scrollTop(),direction="";direction=top>lastScrollTop?"down":"up",lastScrollTop=top,parallaxPosition()})),parallaxPosition(),$(window).resize((function(){parallaxPosition()})),$(".parallax-hero").each((function(){var hero=$(this);hero.addClass("loading");var bg=!0;hero.find("img").length>0&&(bg=!1),$(".parallax-bg",hero).imagesLoaded({background:bg},(function(){hero.find(".hero-slideshow-wrapper").addClass("loaded"),hero.removeClass("loading"),setTimeout((function(){hero.find(".hero-slideshow-wrapper").find(".slider-spinner").remove()}),600)})).fail((function(instance){hero.removeClass("loading"),hero.find(".hero-slideshow-wrapper").addClass("loaded"),hero.find(".hero-slideshow-wrapper").find(".slider-spinner").remove()}))})),$(".section-parallax").each((function(){var hero=$(this),bg=!0;hero.find("img").length>0&&(bg=!1),$(".parallax-bg",hero).imagesLoaded({background:bg},(function(){})).fail((function(instance){}))})),setTimeout((function(){$(window).trigger("scroll")}),500),onepress_gallery_init($(".gallery-content")),"undefined"!=typeof wp&&wp.customize&&wp.customize.selectiveRefresh&&wp.customize.selectiveRefresh.bind("partial-content-rendered",(function(placement){"section-gallery"==placement.partial.id&&(onepress_gallery_init(placement.container.find(".gallery-content")),$(window).resize())}))}));